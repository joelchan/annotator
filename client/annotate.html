<template name="annotationPage">
    <div class="container">
        <!-- {{#if isLoggedIn}} -->
            {{>annotateTask}}
        <!-- {{else}} -->
            <!-- {{> annotateLogin}} -->
        <!-- {{/if}} -->
    </div>
</template>

<template name="annotateLogin">
    Please login or create an account before continuing. Use your MTurkID as your username.
</template>

<template name="annotateTask">
    <!-- <h1>Document has been finished by {{numAnnotations}} total people</h1> -->
    <div class="row instructions">
        <!-- <p>Please read the product description below and help us:</p>
        <ol>
            <li>
                Summarize the <span class="key-purpose">problem</span> and <span class="key-mechanism">mechanism(s)</span> of the product in the textboxes below.
            </li>
            <li>
                Annotate the description to mark the individual words that best signal the unique <span class="key-purpose">problem</span> and/or <span class="key-mechanism">mechanism(s)</span> of the product. Mark a word by clicking on it and selecting the appropriate keyword type (e.g., problem or mechanism). You may mark as many words as you think will help.
            </li>
        </ol>
        <p>Click on the "I'm finished" button below when you are done.</p> -->
        <p>Highlight the <span class="key-background">background/implications</span>, <span class="key-purpose">purpose</span>, <span class="key-mechanism">mechanism</span>, and <span class="key-finding">finding</span> aspects of the abstract below. Select a highlight button to activate a highlight state. Then select parts of the text to apply the highlight state.</p>
        <hr/>
        <label>Highlight buttons:</label>
        <br/>
        <div class="btn-group" role="group" aria-label="...">
          <button type="button" class="btn btn-default background init-highlight">Highlight{{statusBackground}} background/implications</button>
          <button type="button" class="btn btn-default purpose init-highlight">Highlight{{statusPurpose}} purpose</button>
          <button type="button" class="btn btn-default mechanism init-highlight">Highlight{{statusMechanism}} mechanism</button>
          <button type="button" class="btn btn-default finding init-highlight">Highlight{{statusFinding}} finding</button>
          <button type="button" class="btn btn-default unmark init-highlight">Unhighlight{{statusUnmark}}</button>
          <!-- <button type="button" class="btn btn-default none init-highlight">Stop highlighting</button> -->
        </div>
        <p><span class="highlight-description" style="display:none;">{{highlightDescription}}</span></p>
    <!-- <div class="divider">
      <div class="btn-group" role="group" aria-label="...">
        <button type="button" class="btn btn-default background init-highlight">Highlight background</button>
        <button type="button" class="btn btn-default purpose init-highlight">Highlight purpose</button>
        <button type="button" class="btn btn-default mechanism init-highlight">Highlight mechanism</button>
        <button type="button" class="btn btn-default finding init-highlight">Highlight finding</button>
        <button type="button" class="btn btn-default unmark init-highlight">Remove highlights</button>
        <button type="button" class="btn btn-default none init-highlight">Stop highlighting</button>
      </div>
    </div> -->
    </div>
    <div class="row doc-data">
        <div class="col-md-6 col-xs-6 doc">
            {{#each sentences}}
                {{> sentence}}
            {{/each}}
        </div>
        <div class="col-md-6 col-xs-6 summary">
            <!-- <label>Notes (optional)</label>
            <textarea class="form-control" id="summ-purp" rows="3" placeholder="Use this space to write any thoughts you have on the document while highlighting (e.g., is there anything weird about the abstract?)"></textarea>
            <br/>
            <label>Feedback (optional)</label>
            <textarea class="form-control" id="summ-mech" rows="3" placeholder="Write any thoughts you had on the task design here. What did you like/dislike? How can we do better?"></textarea> -->
            <div class="controls">
                <!-- take the user to confirmation page -->
                <!-- <button class="finished btn btn-success">I'm finished!</button> -->
                <button type="button" class="finished btn btn-success btn-lg " id="load" data-loading-text="<i class='fa fa-circle-o-notch fa-spin'></i> Processing Submission">I'm finished!</button>
                <!-- take the user to confirmation page -->
                <!-- <button class="another btn btn-default">Get me another!</button> -->
            </div>
        </div>
    </div>
</template>

<template name="sentence">
    <p>
        {{#each words}}
            {{> word}}
        {{/each}}
    </p>
</template>

<template name="word">
    <!-- Single button -->
    <!-- <div class="btn-group token-container"> -->
    <span class="token {{keyType}}" id="word-{{_id}}">
      {{content}}
    </span>
</template>
