<template name="AnalogySearcher">
    <div class="container search-container">
        <div class="row">
            <div class="col-md-4 col-xs-4 seed">
                {{> SeedDocument}}
            </div>
            <div class="col-md-4 col-xs-4 selections-container">
                {{> Selections}}
            </div>
            <div class="col-md-4 col-xs-4">
                <div class="row search-bar">
                    {{> SearchBar}}
                </div>
                <div class="row results">
                    {{> SearchResults}}
                </div>
            </div>
        </div>
    </div>
</template>

<template name="SeedDocument">
    <h3>Target document</h3>
    <div class="col-md-12 col-xs-12 doc">
        {{#each sentences}}
            {{> sentence}}
        {{/each}}
    </div>
</template>

<template name="SearchBar">
    <div class="search-bar">
        <h3>Search for matches</h3>
        <div class="input-group input-group-sm idea-search">
          <span class="input-group-btn">
            <button class="btn btn-default search-apply-btn" type="buttonmargin-left:20%">
                <i class="glyphicon glyphicon-search"></i>
            </button>
          </span>
          <input type="text" id="search-query" class="form-control" placeholder="Enter keywords to search for matches...">
          <span class="input-group-btn">
            <button class="btn btn-default search-remove-btn" type="button">
                <i class="glyphicon glyphicon-remove"></i>
            </button>
          </span>
        </div> 
    </div>
</template>

<template name="Selections">
    <h3>Select a match</h3>
    <div class="selection-controls">
          <textarea rows="2" class="form-control" id="matchDescription" placeholder="(Optional) Describe the key problem/mechanism shared by the selected match and target document"></textarea>
          <button class="btn btn-default change-seed">Change document</button>
          <button class="btn btn-success submit-match">Submit match</button>
    </div>
    <div class="selections">
        <h4>{{numSelections}} selected matches</h4>
        {{#each selectedDocs}}
            {{> Document}}
        {{/each}}
    </div>
</template>

<template name="Document">
    <div class="doc-container" id="doc-{{_id}}">
        <div class="col-md-10 col-xs-10 doc doc-match">
            {{#each sentences}}
                {{> sentence}}
            {{/each}}
        </div>
        <div class="col-md-2 col-xs-2 match-action">
            {{#if isSelected}}
                <button id="match-remove-{{_id}}" class="btn btn-danger match-remove"><span class="glyphicon glyphicon-remove"></span></button>
            {{else}}
                <button id="match-add-{{_id}}" class="btn btn-success match-add"><span class="glyphicon glyphicon-ok"></span></button>
            {{/if}}
        </div>
    </div>
</template>

<template name="SearchResults">
    {{#if hasMatches}}
        <h4>{{numMatches}} potential matches</h4>
    {{else}}
        <h4>No matches!</h4>
    {{/if}}
    <div class="search-results">
        {{#if hasMatches}}
            {{#each matchingDocs}}
                {{> Document}}
            {{/each}}
        {{/if}}
    </div>
</template>